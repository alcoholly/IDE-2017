<html>
<head>
  <meta charset="utf-8">
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <link href="d3.geomap.css" rel="stylesheet">
  <script src="d3.geomap.dependencies.min.js"></script>
  <script src="d3.geomap.min.js"></script>

  <style>
  path:hover{
    fill:black !important;
}
  </style>

</head>


<body>
  <button onclick="change_community()">Change community</button>

  <div id="map"></div>
</body>


<script>

function change_community(){
  map.column('roll-oldies-60s-heavy-70s').update()
}

var map = d3.geomap.choropleth()
    .geofile('countries.json')
    .colors(['#a6cee3','#1f78b4','#b2df8a','#33a02c','#fb9a99','#e31a1c','#fdbf6f','#ff7f00','#cab2d6','#6a3d9a','#ffff99','#b15928'])
    .column('brit-pop-rock-piano-post')
    .domain([0, 19])
    .legend(false)
    .unitId('country');

d3.select('#map')
    .call(map.draw, map);

d3.csv('map_test_data.csv', function(error, data) {
  d3.select('#map')
      .datum(data)
      .call(map.draw, map);
});

</script>

</html>
