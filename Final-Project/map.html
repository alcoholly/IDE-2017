<html>
<head>
  <meta charset="utf-8">
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <link href="d3.geomap.css" rel="stylesheet">
  <script src="d3.geomap.dependencies.min.js"></script>
  <script src="d3.geomap.min.js"></script>

  <style>
  path:hover{
    fill:black !important;
}
  </style>

</head>


<body>
  <button onclick="change_community()">Change community</button>

  <div id="map"></div>
</body>


<script>

function change_community(){
  map.column('roll-oldies-60s-heavy-70s').update()
}

var map = d3.geomap.choropleth()
    .geofile('countries.json')
    .colors(['#000000','#080808','#101010','#181818','#202020','#282828','#303030','#383838','#404040','#484848','#505050','#585858','#606060','#686868','#696969','#707070','#787878','#808080','#888888','#909090','#989898','#A0A0A0'])
    .column('brit-pop-rock-piano-post')
    .domain([0, 21])
    .legend(false)
    .unitId('country');

d3.select('#map')
    .call(map.draw, map);

d3.csv('map_test_data.csv', function(error, data) {
  d3.select('#map')
      .datum(data)
      .call(map.draw, map);
});

</script>

</html>
